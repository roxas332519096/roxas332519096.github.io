<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><meta name="theme-color" content="#2d4356"><meta name="baidu-site-verification"><title>ES6对象 | RoxasDengBlog</title><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.png"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script></head><link rel="stylesheet" type="text/css" href="/plugins/highlight/atom-one-dark.min.css"><script type="text/javascript" src="/plugins/highlight/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();
</script><script type="text/javascript" src="/js/ready.js" async></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><body class="night"><div class="mobile-head" id="mobile-head"><div class="navbar-icon"><span></span><span></span><span></span></div><div class="navbar-title"><a href="/">LITREILY</a></div><div class="navbar-search"><!--= show a circle here--></div></div><div class="h-wrapper" id="menu"><nav class="h-head box"><div class="m-hdimg"><a class="hdimg img" href="/"><img class="nofancybox" src="/img/profile.jpg" width="128" height="128"></a><h1 class="ttl"><a href="/">RoxasDengBlog</a></h1></div><p class="m-desc">心之所向，无惧无悔,<br>愿求仁得仁，复无怨怼！</p><div class="m-nav"><ul><li><span class="dot">●</span><a href="/archives/">归档</a></li><li><span class="dot">●</span><a href="/categories/">分类</a></li><li><span class="dot">●</span><a href="/tags/">标签</a></li><li><span class="dot">●</span><a href="/about/">关于</a></li><li><span class="dot">●</span><a href="/atom.xml">RSS</a></li><li class="m-sch"><form class="form" id="j-formsch" method="get"><input class="txt" type="text" id="local-search-input" name="q" value="搜索" onfocus="if(this.value=='搜索'){this.value='';}" onblur="if(this.value==''){this.value='搜索';}"><input type="text" style="display:none;"></form></li></ul><div id="local-search-result"></div></div></nav></div><div id="back2Top"><a class="fa fa-arrow-up" title="Back to top" href="#"></a></div><div class="box" id="container"><div class="l-wrapper"><div class="l-content box"><div class="l-post l-post-art"><article class="p-art"><div class="p-header box"><h1 class="p-title">ES6对象</h1><div class="p-info"><span class="p-date"><i class="fa fa-calendar"></i><a href="/2019/07/08/ES6对象/">2019-07-08</a></span><span class="p-category"><i class="fa fa-folder"></i><a href="/categories/ES6/">ES6</a></span><span class="p-view" id="busuanzi_container_page_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_page_pv"></span></span></div></div><div class="p-content"><h4 id="生成空对象"><a href="#生成空对象" class="headerlink" title="生成空对象"></a>生成空对象</h4><h5 id="1-es5"><a href="#1-es5" class="headerlink" title="1. es5"></a>1. es5</h5><pre><code class="bash">var a = new Object()

var a = {}

{
    _proto_:
}
</code></pre>
<h5 id="2-es6"><a href="#2-es6" class="headerlink" title="2. es6"></a>2. es6</h5><pre><code class="bash">var a = Object.create(null)

{

}
</code></pre>
<p>es5 的还有原型,es6 是真正的空对象</p>
<h4 id="属性定义"><a href="#属性定义" class="headerlink" title="属性定义"></a>属性定义</h4><h5 id="1-key-与属性相同可简写"><a href="#1-key-与属性相同可简写" class="headerlink" title="1. key 与属性相同可简写"></a>1. key 与属性相同可简写</h5><pre><code class="bash">var a = 1
    b = 2

var obj ={
    a,
    b
}
//
{
    a:1,
    b:2
}
</code></pre>
<h5 id="2-使用变量作为-key"><a href="#2-使用变量作为-key" class="headerlink" title="2. 使用变量作为 key"></a>2. 使用变量作为 key</h5><pre><code class="bash">es5:

var name = &#39;a&#39;
var obj = {}
obj[name] = 1
{
    a:1
}

es6:
var name = &#39;a&#39;
var obj = {[name]:1}
{
    a:1
}
</code></pre>
<h4 id="4-方法定义"><a href="#4-方法定义" class="headerlink" title="4 方法定义"></a>4 方法定义</h4><p>对象属性可以是一个函数,getter,setter 方法.</p>
<pre><code class="bash">var obj = {
    _age:18
    get age(){return obj._age}
    set age(value){value &lt; 100 ? obj._age = value : obj._age = 100}
}

obj.age = 1000
obj{
    age:100
}
</code></pre>
<h4 id="对象拷贝"><a href="#对象拷贝" class="headerlink" title="对象拷贝"></a>对象拷贝</h4><p>Object.assign 与…</p>
<ol>
<li>key 相同时,后面定义的覆盖前面的</li>
<li>改变被拷贝对对象的属性假如是对象,只会拷贝引用地址,原对象也会改变</li>
<li>仅拷贝可枚举对象.</li>
</ol>
<pre><code class="bash">var obj1 = {a:1,b:2,c:3,obj:{name:&#39;a&#39;}}
var obj2 = Object.assign({},obj1)

obj2.a = 100;
obj1.a //1
obj2.obj.name = &#39;b&#39;
obj1.obj.name //b

var obj3 = {..obj1}
obj3 = {a:1,b:2,c:3}

obj3.a = 100;
obj1.a //1

var obj1 = {a:1,b:2,c:3}
var obj2 = {a:2,b:2,c:3,d4}
var obj3 = {...obj1,...obj2}

obj3 ={
    a:2,
    b:2,
    c:3,
    d4
}
</code></pre>
<h4 id="Oject-definedProperty"><a href="#Oject-definedProperty" class="headerlink" title="Oject.definedProperty()"></a>Oject.definedProperty()</h4><p>该方法会直接在一个对象上定义一个新属性,或修改一个属性的现有属性,并返回这个对象.</p>
<pre><code class="bash">Object.definedProperty(obj,prop,descriptor)

Object.definedProperty(obj,&#39;x&#39;,{
    get(){}
    set(value){}
})
</code></pre>
<h5 id="属性描述符"><a href="#属性描述符" class="headerlink" title="属性描述符"></a>属性描述符</h5><ol>
<li>configurable<br>是否可再次配置,默认 false</li>
</ol>
<pre><code class="bash">Object.definedProperty(o,&#39;age&#39;,{writable:fasle})
o.age = 1;
o.age //undefined
Object.definedProperty(o,&#39;age&#39;,{configurable:true})//报错
Object.definedProperty(o,&#39;age&#39;,{writable:true})//报错

//刷新
Object.definedProperty(o,&#39;age&#39;,{configurable:true})
Object.definedProperty(o,&#39;age&#39;,{writable:fasle})
Object.definedProperty(o,&#39;age&#39;,{writable:true})
</code></pre>
<ol start="2">
<li>enumrable<br>是否能枚举,默认 false</li>
</ol>
<pre><code class="bash">var a = [1,2,3]
for(let key in a){
    console.log(key)//0,1,2
}

Object.definedProperty(a,&#39;0&#39;,{enumrable:fasle})
for(let key in a){
    console.log(key)//1,2
}
</code></pre>
<ol start="3">
<li><p>value</p>
</li>
<li><p>writable<br>属性是否可写入,默认 true</p>
</li>
</ol>
<pre><code class="bash">Object.definedProperty(o,&#39;age&#39;,{writable:fasle})
o.age = 1;
o.age //undefined
</code></pre>
<ol start="5">
<li>get</li>
</ol>
<pre><code class="bash">Object.definedProperty(o,&#39;age&#39;,{get(){
    return &#39;100&#39;
}})
o.age = 1;
o.age //100
</code></pre>
<ol start="6">
<li>set</li>
</ol>
<pre><code class="bash">Object.definedProperty(o,&#39;age&#39;,{set(val){
    return val &lt; 100 ? val : 100
}})
o.age = 1000;
o.age //100
</code></pre>
<h4 id="Oject-definedProperties"><a href="#Oject-definedProperties" class="headerlink" title="Oject.definedProperties()"></a>Oject.definedProperties()</h4><p>定义多个属性</p>
<pre><code class="bash">Object.definedProperties(obj,{
    &#39;a&#39;:{
        value:1,
        writable:true
    },
    &#39;b&#39;:{
        value:2,
        writable:true
    }
})
</code></pre>
</div><div class="p-copyright"><blockquote><div class="p-copyright-author"><span class="p-copyright-key">本文作者：</span><span class="p-copytight-value"><a href="mailto:litreily@163.com">Roxas Deng</a></span></div><div class="p-copyright-link"><span class="p-copyright-key">本文链接：</span><span class="p-copytight-value"><a href="/2019/07/08/ES6对象/">http://yoursite.com/2019/07/08/ES6对象/</a></span></div><div class="p-copyright-note"><span class="p-copyright-key">版权声明：</span><span class="p-copytight-value">本博客所有文章除特殊声明外，均采用<a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"> CC BY-NC 4.0 </a>许可协议。转载请注明出处 <a href="http://yoursite.com">Roxas Deng的博客</a>！</span></div></blockquote></div></article><div class="p-info box"><span class="p-tags"><i class="fa fa-tag"></i><a href="/tags/ES6/">ES6</a></span></div><aside id="toc"><div class="toc-title">目录</div><nav><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#生成空对象"><span class="toc-number">1.</span> <span class="toc-text">生成空对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-es5"><span class="toc-number">1.1.</span> <span class="toc-text">1. es5</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-es6"><span class="toc-number">1.2.</span> <span class="toc-text">2. es6</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#属性定义"><span class="toc-number">2.</span> <span class="toc-text">属性定义</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-key-与属性相同可简写"><span class="toc-number">2.1.</span> <span class="toc-text">1. key 与属性相同可简写</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-使用变量作为-key"><span class="toc-number">2.2.</span> <span class="toc-text">2. 使用变量作为 key</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-方法定义"><span class="toc-number">3.</span> <span class="toc-text">4 方法定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#对象拷贝"><span class="toc-number">4.</span> <span class="toc-text">对象拷贝</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Oject-definedProperty"><span class="toc-number">5.</span> <span class="toc-text">Oject.definedProperty()</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#属性描述符"><span class="toc-number">5.1.</span> <span class="toc-text">属性描述符</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Oject-definedProperties"><span class="toc-number">6.</span> <span class="toc-text">Oject.definedProperties()</span></a></li></ol></nav></aside></div><section class="p-ext"><div class="l-pager l-pager-dtl box"><a class="prev" href="/2019/07/09/Symbol/">&lt; Symbol&amp;迭代器</a><a class="next" href="/2019/07/08/es6变量声明/">ES6变量声明 &gt;</a></div></section><footer><p>Copyright © 2016 - 2023 <a href="/." rel="nofollow">RoxasDengBlog</a> | <strong><a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></strong><br><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span></span> <span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span></span> | Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a>Theme with<a rel="nofollow" target="_blank" href="https://github.com/litreily/snark-hexo"> snark.</a></p></footer></div></div></div><script type="text/javascript" src="/js/search.js"></script><script type="text/javascript" src="/js/top.js"></script><script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
    search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.1" async></script></body></html>